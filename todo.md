# Todo: (linear order)

_remember: break every problem down to actionable steps_

- [x] choose a flavor --> Github
- [x] design basic routing
- [x] Init Firebase Hosting
- [x] Auth: Firebase
  - [x] should I allow using app as Guest? No
  - [x] add Google Auth
  - [x] add Github Auth
  - [x] add Password Auth
- [x] try Radix
- [x] sign up, log in redirects to home if logged in
- [x] home redirects to login if not
- [x] make `remark-gfm` work
- [x] fix flash-of-login before home page
- [x] Firestore Basics
  - [x] know how to CREATE
  - [x] know how to READ
  - [x] know how to UPDATE
  - [x] know how to DELETE
  - > collection is auto-created when first document is added, no need to manually create empty collection
- [x] build add-note area UI
- [x] build add-note logic:
  - [x] press `Esc` will create note
  - [x] press `Enter` will NOT create note
- [x] create user when signed up (Supabase)
- [x] upload note (Supabase)
- [x] fetch notes to display in `<Masonry />` (Supabase)
- [x] show labels popup when type `#`
- [x] hide labels popup when type `Esc`
- [x] can select labels from popup
- [x] listen to DB in real-time
- [x] add delete button (`NoteCard`)
- [x] start recording keystrokes after `#` appears
- [x] labelsPopup:
  - [x] hide when type `Space`
  - [x] only show `Add new label` button if non of db's labels match `extractedLabel`
  - [x] autofocus first element
  - [x] other keys will still type in textarea
  - [x] `Up`/`Down` will cycle through `filteredLabels`
  - [x] `Tab` will accept suggestion
  - [x] can cycle through `extractedLabel`
- [x] handle insert labels logic (Supabase)
- [x] handle insert `notes_labels` (Supabase)
- [x] fix: hit `Tab` when not recording label
- [x] move up `Done`'s taborder
- [x] reorganize, rename component files
- [x] refactor, clean up dead code
- [x] move `LabelSuggestions` to caret position
- [x] hide `LabelSuggestions` when no `#` or cursor before `#`
- [x] fix: `notes_labels` not being updated
- [x] add `LabelsSuggestionsWithSearch` to Label button in `NoteForm`
- [x] build masonry
  - [x] layout should update when a note is added
- [x] textarea should auto expand to accommodate `content`
- [x] fix: hashtag on lower lines - mirror div content should wrap
- [x] fix: `LabelSuggestions` position should be in sync when window resizes
- [x] fix: error when filteredLabel trying to filter a string ends with `\`
- [x] refetch labels if just created note with new label
- [x] auto delete row from table `labels` if there's no note with that label
- [x] `LabelButton`: stop close button from hanging out the side
- [x] make `NoteForm` reusable (Radix dialog)
  - [x] get `NoteForm` to appear in dialog
  - [x] display content of clicked note
  - [x] all database logic should work fine
  - [x] all suggestion popups' positions should work fine
  - [x] update `last_modified_at` on DB
- [x] fix: mirror should expand when textarea expands
- [x] fix: `nothing to repeat` error
- [x] switch from React Markdown to Simple Markdown
- [x] fix: mirror should display leading spaces
- [x] fix: stop sending unnecessary requests on pressing `Esc` when nothing's changed
- [x] MD's codeblocks should have syntax highlighting (`prismjs`)
- [x] add unique avatar if `photoUrl` doesn't exist
- [ ] consider get rid of `textarea` in favor of `div` to display live-editing content?
- [ ] render markdown correctly without separating lines with empty lines
- [ ] fix any labels problems after markdown is done
- [ ] add recording logic to `Title` field as well
- [ ] reorder types